function drawDots(){var e=document.getElementById("dots").getContext("2d"),t=16,n=10;e.canvas.width*=1.3,e.canvas.height*=1.9,e.globalAlpha=".1",e.fillStyle="#425B17",e.rotate(-Math.PI/12),e.translate(-190,0),e.beginPath();for(var r=.5;r<e.canvas.width;r+=t)for(var i=.5;i<e.canvas.height;i+=t)e.fillRect(r,i,n,n)}function drawIcons(e){function h(e){for(var t=0;t<Math.floor(Math.random()*c);t++){var r=new Bitmap(e),i=Math.random();r.regX=e.width>>1,r.regY=e.height>>1,r.x=Math.random()*cWidth,r.y=Math.random()*cHeight,r.scaleX=r.scaleY=i>.3?i:i*2,r.rotation=Math.sin(i)*360,r.alpha=i>.5?i/2:i*2,n.addChild(r)}Ticker.addListener(n)}var t=document.getElementById("icons").getContext("2d");t.globalAlpha=".1";var n=new Stage(t.canvas),r=new Image,i=new Image,s=new Image,o=new Image,u=new Image,a=new Image,f=new Image,l=new Image,c=e=="d"?100:33;r.src="images/coffee-icon.png",r.onerror=handleImageError,r.onload=h(r),i.src="images/restaurant-icon.png",i.onerror=handleImageError,i.onload=h(i),s.src="images/cocktail-icon.png",s.onerror=handleImageError,s.onload=h(s),o.src="images/atm-icon.png",o.onerror=handleImageError,o.onload=h(o),u.src="images/shirt-icon.png",u.onerror=handleImageError,u.onload=h(u),a.src="images/cab-icon.png",a.onerror=handleImageError,a.onload=h(a),f.src="images/house-icon.png",f.onerror=handleImageError,f.onload=h(f),l.src="images/flower-icon.png",l.onerror=handleImageError,l.onload=h(l)}function init(e){ratio=0,goal=e=="d"?371:211,img=new Image,img.onload=handleImageLoad,img.onerror=handleImageError,img.src=e=="d"?"images/thought-balloon.png":"images/thought-balloon-m.png"}function reset(){createjs.Ticker.removeListener(window),bStage.removeAllChildren(),bStage.update()}function handleImageLoad(){blowBalloon()}function handleImageError(){throw new Error("Image not loaded. Please check your Internet connection.")}function blowBalloon(){bStage=new Stage(bCanvas),bmp=new Bitmap(img),bmp.regX=img.width>>1,bmp.regY=img.height>>1,bmp.x=originX,bmp.y=cHeight,bmp.scaleX=bmp.scaleY=0,bStage.addChild(bmp),Tween.get(bmp,{loop:!1}).to({y:goal,scaleX:1,scaleY:1},2e3,Ease.get(1)).call(function(){$("input").fadeIn("fast").focus()}),Ticker.setFPS(20),Ticker.addListener(bStage,!1)}var bCanvas=document.getElementById("main-balloon"),balloonCtx=bCanvas.getContext("2d"),mainBalloon=new Image,imgRatio=.634765625,bStage,img,bmp,ratio,goal